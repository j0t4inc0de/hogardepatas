{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hogar de 4 Patas - Adopción de Perros</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            color: #1f3f5b;
        }
        .container-1 {
            width: 100%;
            height: 100%;
            /* Add your background pattern here */
            background-color: #ffffff;
            background-image: radial-gradient(rgba(0, 0, 0, 0.171) 2px, transparent 0);
            background-size: 30px 30px;
            background-position: -5px -5px;
        }
        .header-section {
            text-align: center;
            padding: 40px 20px;
            margin-bottom: 30px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .main-title {
            font-size: 40px;
            font-weight: 700;
            color: #215583;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 2px;
            position: relative;
            display: inline-block;
        }

        .dog-card {
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .dog-card img {
            width: 100%;
            height: 550px;
            object-fit: cover;
            border-radius: 15px;
        }

        .dog-info {
            margin-top: 15px;
        }

        .dog-info h2 {
            font-size: 1.8rem;
            color: #215583;
            font-weight: 700;
        }

        .dog-info p {
            font-size: 1.2rem;
            color: #666;
        }

        #dogs-list {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
        }

        .icono-volver {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 35px;
            color: #ff4b4b;
            text-decoration: none;
        }

        .icono-volver:hover {
            color: #ff6b6b;
        }
        .hogar-carousel {
            width: 300px;
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
        }

        .carousel-item img {
            width: 300px;
            height: 300px;
            object-fit: cover;
        }

        .hogar-info {
            flex: 1;
            min-width: 300px;
        }

        .rating {
            color: #ffd700;
            font-size: 20px;
            margin: 10px 0;
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .stat-item {
            background-color: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            flex: 1;
            min-width: 120px;
        }

        .carousel-control-prev,
        .carousel-control-next {
            background-color: rgba(0, 0, 0, 0.3);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            top: 50%;
            transform: translateY(-50%);
        }

        .carousel-indicators {
            bottom: 0;
            margin-bottom: 0.5rem;
        }


        .postulacion-title {
            color: #215583;
            font-size: 2rem;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .btn-postular {
            background-color: #5ca2d4;
            color: white;
            padding: 15px 40px;
            border-radius: 25px;
            border: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1.2rem;
            display: inline-block;
        }

        .btn-postular:hover {
            background-color: #5ca2d4;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 75, 75, 0.3);
            color: white;
        }

        .modal-content {
            border-radius: 15px;
            border: none;
        }

        .modal-header {
            background-color: #5ca2d4;
            color: white;
            border-radius: 15px 15px 0 0;
            padding: 20px;
        }

        .modal-title {
            font-weight: 600;
        }

        .modal-body {
            padding: 25px;
        }

        .form-label {
            font-weight: 500;
            color: #444;
        }

        .form-control {
            border-radius: 8px;
            padding: 10px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
        }

        .form-control:focus {
            border-color: #ff4b4b;
            box-shadow: 0 0 0 0.2rem rgba(255, 75, 75, 0.25);
        }

        .btn-submit {
            background-color: #5ca2d4;
            color: white;
            padding: 10px 30px;
            border-radius: 25px;
            border: none;
            font-weight: 600;
            width: 100%;
            margin-top: 10px;
        }

        .btn-submit:hover {
            background-color: #215583;
        }

    </style>
</head>
<body class="container-1">
    <a href="{% url 'index' %}" class="icono-volver" title="Volver al inicio">
        <i class="fa-solid fa-xmark"></i>
    </a>
    <!-- Modal de Adopcion -->
    <div class="modal fade" id="postulacionModal" tabindex="-1" aria-labelledby="postulacionModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="postulacionModalLabel">
                        <i class="fas fa-home me-2"></i>Formulario de Adopción
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="postulacionForm">
                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre Completo</label>
                            <input type="text" class="form-control" id="nombre" name="nombre" required>
                        </div>
                        <div class="mb-3">
                            <label for="direccion" class="form-label">Dirección</label>
                            <input type="text" class="form-control" id="direccion" name="direccion" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="telefono" class="form-label">Número Telefónico</label>
                            <input type="tel" class="form-control" id="telefono" name="telefono" placeholder="+56 9 XXXX XXXX" required maxlength="14">
                        </div>
                        <div class="mb-3">
                            <label for="nombre2" class="form-label">Nombre del animal</label>
                            <input type="text" class="form-control" id="nombre2" name="nombre2" required>
                        </div>
                        
                        <button type="submit" class="btn-submit">
                            <i class="fas fa-paper-plane me-2"></i>Enviar Postulación
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <section id="dogs-list">
        <div class="header-section">
            <h1 class="main-title">
                <i class="fas fa-paw paw-icon"></i>
                Perros en Adopción
                <i class="fas fa-paw paw-icon"></i>
            </h1>
            <p>Encuentra a tu nuevo mejor amigo entre los animales que buscan un hogar permanente.</p>
            <!-- Nueva sección de postulación -->
            <div class="postulacion-section">
                <button class="btn-postular" data-bs-toggle="modal" data-bs-target="#postulacionModal">
                    <i class="fas fa-paw me-2"></i>Adoptar
                </button>
            </div>
        </div>
        
        <!-- Perro 1 -->
        <div class="dog-card">
            <img src="{% static 'img/1.jpg' %}" alt="Foto de Max">
            <div class="dog-info">
                <h2>Cristobal</h2>
                <p>Edad: 7 años</p>
            </div>
        </div>

        <!-- Perro 2 -->
        <div class="dog-card">
            <img src="{% static 'img/2.jpg' %}" alt="Foto de Kayn">
            <div class="dog-info">
                <h2>Juan</h2>
                <p>Edad: 5 años</p>
            </div>
        </div>
        <!-- Perro 3 -->
        <div class="dog-card">
            <img src="{% static 'img/3.jpg' %}" alt="Foto de Rocky">
            <div class="dog-info">
                <h2>Kevin</h2>
                <p>Edad: 4 años</p>
            </div>
        </div>
        <!-- Perro 4 -->
        <div class="dog-card">
            <img src="{% static 'img/8.jpg' %}" alt="Foto de Rocky">
            <div class="dog-info">
                <h2>Mike</h2>
                <p>Edad: 6 años</p>
            </div>
        </div>
        <!-- Perro 5 -->
        <div class="dog-card">
            <img src="{% static 'img/7.jpg' %}" alt="Foto de Rocky">
            <div class="dog-info">
                <h2>Micha</h2>
                <p>Edad: 6 años</p>
            </div>
        </div>

        <!-- Agrega más tarjetas de perros aquí -->
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // rescribe inicales del telefono 
            document.getElementById('telefono').addEventListener('input', function(e) {
                let telefono = e.target.value.replace(/\D/g, '');
                if(telefono.startsWith('56')) {
                    telefono = telefono.slice(2);
                }
                if(telefono.length > 0) {
                    telefono = '+56 ' + telefono;
                }
                if(telefono.length > 7) {
                    telefono = telefono.slice(0, 7) + ' ' + telefono.slice(7);
                }
                e.target.value = telefono;
            });

            // Manejar envío del formulario
        document.getElementById('postulacionForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // atrapa los datos del formulariio
            const nombreAnimal = document.getElementById('nombre2').value;
            const nombre = document.getElementById('nombre').value;
            const direccion = document.getElementById('direccion').value;
            const telefono = document.getElementById('telefono').value;

            // Crear el mensaje para WhatsApp
            const mensaje = `¡Hola! Me gustaría adoptar a ${nombreAnimal}.%0A%0A` +
                        `*Mis datos son:*%0A` +
                        `Nombre: ${nombre}%0A` +
                        `Dirección: ${direccion}%0A` +
                        `Teléfono: ${telefono}`;

            
            const whatsappLink = `https://wa.me/56985216691?text=${mensaje}`;

            
            alert('¡Formulario completado! Serás redirigido a WhatsApp para enviar tu postulación.');
            
            // Abrir WhatsApp en una nueva pestaña
            window.open(whatsappLink, '_blank');
            
            // reinicia los campos del formulario 
            var modal = bootstrap.Modal.getInstance(document.getElementById('postulacionModal'));
            modal.hide();
            this.reset();
            });
        });
                // envio de formulario 
        document.getElementById('postulacionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            

            // Obtener los valores del formulario
            const nombre = document.getElementById('nombre').value;
            const apellido = document.getElementById('apellido').value;
            const direccion = document.getElementById('direccion').value;
            const telefono = document.getElementById('telefono').value;

            // Crear el mensaje para WhatsApp
            const mensaje = `¡Hola! Me gustaría postular como Hogar Temporal.%0A%0A` +
                        `*Datos de la postulación:*%0A` +
                        `Nombre: ${nombre} ${apellido}%0A` +
                        `Dirección: ${direccion}%0A` +
                        `Teléfono: ${telefono}`;

            // Crear el enlace de WhatsApp
            const whatsappLink = `https://wa.me/56985216691?text=${mensaje}`;

            // Mostrar mensaje de éxito
            alert('¡Formulario completado! Serás redirigido a WhatsApp para enviar tu postulación.');
            
            // Abrir WhatsApp en una nueva pestaña
            window.open(whatsappLink, '_blank');
            
            // Cerrar modal y limpiar formulario
            var modal = bootstrap.Modal.getInstance(document.getElementById('postulacionModal'));
            modal.hide();
            this.reset();
        });
    </script>
</body>
</html>